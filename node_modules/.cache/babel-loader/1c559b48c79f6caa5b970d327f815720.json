{"ast":null,"code":"var _jsxFileName = \"/Users/adityanayak/Desktop/mumble-Chat/src/components/Room.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { db } from '../firebase';\nimport './Room.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Room({\n  id,\n  name,\n  addNewRoom\n}) {\n  _s();\n\n  var _messages$;\n\n  const [messages, setMessages] = useState('');\n  useEffect(() => {\n    if (id) {\n      db.collection('rooms').doc(id).collection('messages').orderBy('timestamp', 'desc').onSnapshot(snapshot => setMessages(snapshot.docs.map(doc => doc.data())));\n    }\n  }, [id]);\n\n  const createRoom = () => {\n    const roomName = prompt(\"Enter a name for the room\");\n\n    if (roomName) {\n      db.collection('rooms').add({\n        name: roomName\n      });\n    }\n  };\n\n  return !addNewRoom ? /*#__PURE__*/_jsxDEV(Link, {\n    to: `/chat/${id}`,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"room\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"avatar\",\n        src: `https://avatars.dicebear.com/api/gridy/${id}.svg`,\n        alt: name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"roomInfo\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [messages[0] ? `${messages[0].user.split(' ')[0]}: ` : \"\", (_messages$ = messages[0]) === null || _messages$ === void 0 ? void 0 : _messages$.message]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 9\n  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"room\",\n    onClick: createRoom,\n    children: /*#__PURE__*/_jsxDEV(\"h4\", {\n      children: [\"Add New Room  \", /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fas fa-plus-circle\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 29\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 7\n  }, this);\n}\n\n_s(Room, \"enLHXzqTPlbxUX5QvaBjb6J0jys=\");\n\n_c = Room;\nexport default Room;\n\nvar _c;\n\n$RefreshReg$(_c, \"Room\");","map":{"version":3,"sources":["/Users/adityanayak/Desktop/mumble-Chat/src/components/Room.js"],"names":["React","useState","useEffect","Link","db","Room","id","name","addNewRoom","messages","setMessages","collection","doc","orderBy","onSnapshot","snapshot","docs","map","data","createRoom","roomName","prompt","add","user","split","message"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,EAAT,QAAmB,aAAnB;AACA,OAAO,YAAP;;;AAGA,SAASC,IAAT,CAAc;AAACC,EAAAA,EAAD;AAAKC,EAAAA,IAAL;AAAWC,EAAAA;AAAX,CAAd,EAAsC;AAAA;;AAAA;;AAClC,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BT,QAAQ,CAAC,EAAD,CAAxC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAII,EAAJ,EAAQ;AACJF,MAAAA,EAAE,CAACO,UAAH,CAAc,OAAd,EACCC,GADD,CACKN,EADL,EACSK,UADT,CACoB,UADpB,EAECE,OAFD,CAES,WAFT,EAEsB,MAFtB,EAGCC,UAHD,CAGYC,QAAQ,IAChBL,WAAW,CAACK,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAmBL,GAAD,IAC1BA,GAAG,CAACM,IAAJ,EADQ,CAAD,CAJf;AAQH;AAEJ,GAZQ,EAYN,CAACZ,EAAD,CAZM,CAAT;;AAcA,QAAMa,UAAU,GAAG,MAAM;AACrB,UAAMC,QAAQ,GAAGC,MAAM,CAAC,2BAAD,CAAvB;;AACA,QAAID,QAAJ,EAAc;AACVhB,MAAAA,EAAE,CAACO,UAAH,CAAc,OAAd,EAAuBW,GAAvB,CAA2B;AACvBf,QAAAA,IAAI,EAAEa;AADiB,OAA3B;AAGH;AACJ,GAPD;;AASA,SAAO,CAACZ,UAAD,gBACH,QAAC,IAAD;AAAM,IAAA,EAAE,EAAG,SAAQF,EAAG,EAAtB;AAAA,2BACI;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA,8BACI;AAAK,QAAA,SAAS,EAAC,QAAf;AAAwB,QAAA,GAAG,EAAG,0CAAyCA,EAAG,MAA1E;AAAiF,QAAA,GAAG,EAAEC;AAAtF;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA,gCACI;AAAA,oBAAKA;AAAL;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAA,qBAAIE,QAAQ,CAAC,CAAD,CAAR,GAAe,GAAGA,QAAQ,CAAC,CAAD,CAAR,CAAYc,IAAb,CAAmBC,KAAnB,CAAyB,GAAzB,EAA8B,CAA9B,CAAiC,IAAlD,GAAwD,EAA5D,gBAAgEf,QAAQ,CAAC,CAAD,CAAxE,+CAAgE,WAAagB,OAA7E;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADG,gBAWL;AAAK,IAAA,SAAS,EAAC,MAAf;AAAsB,IAAA,OAAO,EAAEN,UAA/B;AAAA,2BACI;AAAA,gDAAkB;AAAG,QAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,cAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UAXF;AAeH;;GAzCQd,I;;KAAAA,I;AA2CT,eAAeA,IAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Link } from 'react-router-dom';\nimport { db } from '../firebase';\nimport './Room.css'\n\n\nfunction Room({id, name, addNewRoom}) {\n    const [messages, setMessages] = useState('');\n\n    useEffect(() => {\n        if (id) {\n            db.collection('rooms')\n            .doc(id).collection('messages')\n            .orderBy('timestamp', 'desc')\n            .onSnapshot(snapshot => \n                setMessages(snapshot.docs.map((doc) => \n                    doc.data()\n                ))\n            );\n        }\n        \n    }, [id])\n    \n    const createRoom = () => {\n        const roomName = prompt(\"Enter a name for the room\");\n        if (roomName) {\n            db.collection('rooms').add({\n                name: roomName,\n            })\n        }\n    }\n\n    return !addNewRoom ? (\n        <Link to={`/chat/${id}`}>\n            <div className=\"room\">\n                <img className=\"avatar\" src={`https://avatars.dicebear.com/api/gridy/${id}.svg`} alt={name}/> \n                <div className=\"roomInfo\">\n                    <h2>{name}</h2>\n                    <p>{messages[0] ? `${(messages[0].user).split(' ')[0]}: ` : \"\"}{messages[0]?.message}</p>\n                </div>\n            </div>\n        </Link>\n    ) : (\n      <div className=\"room\" onClick={createRoom}>\n          <h4>Add New Room  <i className=\"fas fa-plus-circle\"></i> </h4>\n      </div>\n    )\n}\n\nexport default Room"]},"metadata":{},"sourceType":"module"}